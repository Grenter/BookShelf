@using BookShelf.Shared.Model
@using BookShelf.UI.Services
@page "/addbook"
@inject HttpClient Http

<div class="form-group col-2">
    <label for="title">Title:</label>
    <input placeholder="Title" bind="@_book.Title" class="form-control" id="title"/>
</div>

<div class="form-group col-2">
    <label for="author">Author(s):</label>
    <input placeholder="Author(s)" bind="@_book.Authors" class="form-control" id="author" />
</div>

<div class="form-group col-2">
    <label for="image">Cover Image:</label>
    <input placeholder="Cover Image" bind="@_book.CoverImage" class="form-control" id="image" />
</div>

<div class="form-group col-2">
    <label for="shelf">Shelf:</label>
    <input placeholder="Shelf" bind="@_book.Shelf" class="form-control" id="shelf" />
</div>

<div class="form-group col-2">
    <label for="genre">Genre:</label>
    <input placeholder="Genre" bind="@_book.Genre" class="form-control" id="genre" />
</div>

<div class="checkbox col-2">
    <label for="own">Own:</label>
    <input type="checkbox" bind="@_book.Own" id="own"/>
</div>

<hr />

<div class="col">
    <button onclick="@Add" class="btn btn-success">Add Book</button>
</div>

@functions
{
    [Inject]
    private BookService BookService { get; set; }

    readonly Book _book = new Book();

    async Task Add()
    {
        await BookService.PostBook(_book);
    }
}
